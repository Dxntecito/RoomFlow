{% extends "Master.html" %}

{% block stiles %}
<link rel="stylesheet" href="{{ url_for('static', filename='CSS/CRUDS.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='CSS/Crud_Empleados.css') }}">
{% endblock %}

{% block content %}
<div class="main-wrapper">
  <div class="main-container">
    <!-- ===== SIDEBAR IZQUIERDA ===== -->
    <nav class="sidebar">
      <h2>Módulo Empleado</h2>
      <a href="{{ url_for('empleados.Empleados') }}" class="sidebar-link" id="link-gestionar-empleados">Gestionar Empleados</a>
      <a href="{{ url_for('turno.GestionarTurno') }}" class="sidebar-link" id="link-gestionar-turno">Gestionar Turno</a>
      <a href="{{ url_for('turno.GestionarDetalleTurno') }}" class="sidebar-link" id="link-gestionar-detalle-turno">Gestionar Detalle Turno</a>
    </nav>
<main class="content-crud-empleado">
    <!-- ===== CONTENIDO PRINCIPAL ===== -->
    {% block employee_content %}

    {% endblock %}

</main>
  </div>
</div>



<script>
  // Script para manejar el estado activo del sidebar en el módulo de empleados
  document.addEventListener('DOMContentLoaded', function() {
    // Obtener la ruta actual
    const currentPath = window.location.pathname;
    
    // Seleccionar solo los enlaces del sidebar de este módulo
    const sidebar = document.querySelector('.sidebar');
    if (!sidebar) return;
    
    const sidebarLinks = sidebar.querySelectorAll('.sidebar-link');
    
    // Remover la clase 'active' de todos los enlaces de este sidebar
    sidebarLinks.forEach(link => {
      link.classList.remove('active');
    });
    
    // Agregar la clase 'active' al enlace correspondiente
    if (currentPath.includes('/Empleados') && !currentPath.includes('/Turno')) {
      const linkEmpleados = document.getElementById('link-gestionar-empleados');
      if (linkEmpleados) linkEmpleados.classList.add('active');
    } else if (currentPath.includes('/GestionarTurno')) {
      const linkTurno = document.getElementById('link-gestionar-turno');
      if (linkTurno) linkTurno.classList.add('active');
    } else if (currentPath.includes('/GestionarDetalleTurno')) {
      const linkDetalle = document.getElementById('link-gestionar-detalle-turno');
      if (linkDetalle) linkDetalle.classList.add('active');
    }
  });
</script>

{% endblock %}
